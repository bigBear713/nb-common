import{A as G,D as z,E as v,J as c,K as x,N as I,P as S,R as D,S as j,Z as U,_ as q,aa as w,ba as T,c as B,d as A,ga as R,i as E,k as h,ka as K,l as k,la as V,m as g,ma as $,n as P,o as L,oa as Q,p as y,q as d,r as b,v as W,x as N,y as m,z as f}from"./chunk-7XPSJXHN.js";var re=typeof global=="object"&&global&&global.Object===Object&&global,H=re;var oe=typeof self=="object"&&self&&self.Object===Object&&self,ae=H||oe||Function("return this")(),J=ae;var fe=J.Symbol,s=fe;var X=Object.prototype,se=X.hasOwnProperty,ie=X.toString,u=s?s.toStringTag:void 0;function ne(e){var r=se.call(e,u),l=e[u];try{e[u]=void 0;var t=!0}catch{}var o=ie.call(e);return t&&(r?e[u]=l:delete e[u]),o}var Y=ne;var le=Object.prototype,pe=le.toString;function ue(e){return pe.call(e)}var Z=ue;var de="[object Null]",me="[object Undefined]",_=s?s.toStringTag:void 0;function ce(e){return e==null?e===void 0?me:de:_&&_ in Object(e)?Y(e):Z(e)}var i=ce;function xe(e){return e!=null&&typeof e=="object"}var n=xe;var he=Array.isArray,ee=he;var ge="[object String]";function ye(e){return typeof e=="string"||!ee(e)&&n(e)&&i(e)==ge}var M=ye;var be="[object Boolean]";function ve(e){return e===!0||e===!1||n(e)&&i(e)==be}var O=ve;var Ie="[object Number]";function Se(e){return typeof e=="number"||n(e)&&i(e)==Ie}var C=Se;var De=["nb-r-str",""];function je(e,r){if(e&1&&(c(0),D(1),w(2,"async"),x()),e&2){let l=S();m(),j(T(2,1,l.asyncContent))}}function we(e,r){if(e&1&&(c(0),D(1),x()),e&2){let l=S();m(),j(l.content)}}var F=(()=>{let r=class r{constructor(){}isBoolean(t){return O(t)}isNumber(t){return C(t)}isObservable(t){return t instanceof B}isPromise(t){return t instanceof Promise}isString(t){return M(t)}isTemplateRef(t){return t instanceof G}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=h({token:r,factory:r.\u0275fac,providedIn:"root"});let e=r;return e})(),Te=(()=>{let r=class r{constructor(t){this.valueTypeService=t}transform(t){return this.valueTypeService.isObservable(t)||this.valueTypeService.isPromise(t)}};r.\u0275fac=function(o){return new(o||r)(f(F,16))},r.\u0275pipe=d({name:"nbIsAsync",type:r,pure:!0,standalone:!0});let e=r;return e})();var Rt=(()=>{let r=class r{constructor(){this.content=""}get asyncContent(){return this.content}};r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=P({type:r,selectors:[["","nb-r-str",""]],inputs:{content:[0,"nb-r-str","content"]},standalone:!0,features:[q],attrs:De,decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(o,a){o&1&&(c(0,0),w(1,"nbIsAsync"),z(2,je,3,3,"ng-container",1)(3,we,2,1,"ng-container",2),x()),o&2&&(v("ngSwitch",T(1,2,a.content)),m(2),v("ngSwitchCase",!0))},dependencies:[K,V,$,Q,Te],encapsulation:2,changeDetection:0});let e=r;return e})(),Re=new g("default error image"),Me=new g("default loading image"),Oe="./assets/nb-common/loading.svg",Ce="./assets/nb-common/picture.svg",Mt=(()=>{let r=class r{constructor(t,o,a,p){this.changeDR=t,this.defaultErrImg=o,this.defaultLoadingImg=a,this.elementRef=p,this.nbImg="",this.src="",this.loadingImg=this.defaultLoadingImg||Oe,this.errImg=this.defaultErrImg||Ce}ngOnChanges(t){let{nbImg:o}=t;this.changeNbImg(o)}changeNbImg(t){t?.firstChange&&(this.src=this.elementRef.nativeElement.src),t&&this.loadImage()}loadImage(){if(!this.nbImg){this.loadImgFromSrc();return}this.loadImgFromNbImg()}loadImgFromNbImg(){this.updateImgSrc(this.loadingImg);let t=new Image;t.onerror=()=>this.updateImgSrc(this.errImg),t.onload=()=>this.updateImgSrc(this.nbImg),t.src=this.nbImg}loadImgFromSrc(){this.elementRef.nativeElement.onerror=()=>{this.updateImgSrc(this.errImg),this.elementRef.nativeElement.onerror=null}}updateImgSrc(t){this.src=t,this.changeDR.markForCheck()}};r.\u0275fac=function(o){return new(o||r)(f(R),f(Re,8),f(Me,8),f(W))},r.\u0275dir=y({type:r,selectors:[["img","nbImg",""]],hostVars:1,hostBindings:function(o,a){o&2&&I("src",a.src,N)},inputs:{errImg:"errImg",loadingImg:"loadingImg",nbImg:"nbImg"},standalone:!0,features:[b]});let e=r;return e})(),te=(()=>{let r=class r{constructor(){this.destroy$=new A,this.subscriptionList=[],this.subscriptionMap=new Map}addUnsubscribeOperator(t){return t.pipe(E(this.destroy$))}clearAllSubscriptions(){this.subscriptionList.forEach(t=>t.unsubscribe()),this.subscriptionList.length=0}clearAllSubscriptionsFromKeyRecord(){this.subscriptionMap.forEach((t,o)=>{t.unsubscribe(),this.subscriptionMap.delete(o)})}collectASubscription(t){this.subscriptionList.push(t)}collectASubscriptionByKey(t,o,a=!0){let p=this.subscriptionMap.get(t);return p&&a&&p.unsubscribe(),this.subscriptionMap.set(t,o),p}getDestructionSignal(){return this.destroy$.asObservable()}unsubscribeASubscriptionByKey(t){let o=this.subscriptionMap.get(t);return o?(o.unsubscribe(),this.subscriptionMap.delete(t)):!1}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.clearAllSubscriptions(),this.clearAllSubscriptionsFromKeyRecord()}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=h({token:r,factory:r.\u0275fac});let e=r;return e})(),Ot=(()=>{let r=class r{constructor(t,o,a){this.chageDR=t,this.unsubscribeService=o,this.valueTypeService=a,this.nbPlaceholder="",this.placeholder=""}ngOnChanges(){this.reRender()}reRender(){if(this.valueTypeService.isString(this.nbPlaceholder)){this.placeholder=this.nbPlaceholder,this.chageDR.markForCheck();return}let t=this.nbPlaceholder.subscribe(o=>this.updatePlaceholder(o));this.unsubscribeService.collectASubscriptionByKey("placeholder-content",t)}updatePlaceholder(t){this.placeholder=t,this.chageDR.markForCheck()}};r.\u0275fac=function(o){return new(o||r)(f(R),f(te),f(F))},r.\u0275dir=y({type:r,selectors:[["","nbPlaceholder",""]],hostVars:1,hostBindings:function(o,a){o&2&&I("placeholder",a.placeholder)},inputs:{nbPlaceholder:"nbPlaceholder"},standalone:!0,features:[U([te]),b]});let e=r;return e})();var Ct=(()=>{let r=class r{constructor(t){this.valueTypeService=t}transform(t){return this.valueTypeService.isTemplateRef(t)?t:null}};r.\u0275fac=function(o){return new(o||r)(f(F,16))},r.\u0275pipe=d({name:"nbTplContent",type:r,pure:!0,standalone:!0});let e=r;return e})(),Ft=(()=>{let r=class r{transform(t,...o){if(t)return t(...o)}};r.\u0275fac=function(o){return new(o||r)},r.\u0275pipe=d({name:"nbCallFn",type:r,pure:!0,standalone:!0});let e=r;return e})();var Bt=(()=>{let r=class r{};r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=L({type:r}),r.\u0275inj=k({});let e=r;return e})();export{Rt as a,Me as b,Mt as c,Ot as d,Ct as e,Ft as f,Bt as g};
