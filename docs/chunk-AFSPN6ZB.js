import{$ as G,A as W,B as b,C as u,E as _,G as y,L as d,M as m,P as v,R as I,T as S,U as T,ba as D,c as O,ca as M,d as P,ga as R,i as B,k as x,l as F,m as h,ma as U,n as g,na as z,oa as q,qa as K,s as A,t as E,u as l,v as a,w as k,z as L}from"./chunk-2YK3DJ22.js";var ee=typeof global=="object"&&global&&global.Object===Object&&global,V=ee;var te=typeof self=="object"&&self&&self.Object===Object&&self,re=V||te||Function("return this")(),$=re;var oe=$.Symbol,s=oe;var Q=Object.prototype,ae=Q.hasOwnProperty,fe=Q.toString,p=s?s.toStringTag:void 0;function se(e){var c=ae.call(e,p),t=e[p];try{e[p]=void 0;var r=!0}catch{}var o=fe.call(e);return r&&(c?e[p]=t:delete e[p]),o}var H=se;var ie=Object.prototype,ne=ie.toString;function pe(e){return ne.call(e)}var J=pe;var le="[object Null]",ue="[object Undefined]",X=s?s.toStringTag:void 0;function de(e){return e==null?e===void 0?ue:le:X&&X in Object(e)?H(e):J(e)}var i=de;function me(e){return e!=null&&typeof e=="object"}var n=me;var ce=Array.isArray,Y=ce;var xe="[object String]";function he(e){return typeof e=="string"||!Y(e)&&n(e)&&i(e)==xe}var j=he;var ge="[object Boolean]";function be(e){return e===!0||e===!1||n(e)&&i(e)==ge}var w=be;var ye="[object Number]";function ve(e){return typeof e=="number"||n(e)&&i(e)==ye}var C=ve;var Ie=["nb-r-str",""];function Se(e,c){if(e&1&&(d(0),S(1),D(2,"async"),m()),e&2){let t=I();l(),T(M(2,1,t.asyncContent))}}function Te(e,c){if(e&1&&(d(0),S(1),m()),e&2){let t=I();l(),T(t.content)}}var N=(()=>{class e{constructor(){}isBoolean(t){return w(t)}isNumber(t){return C(t)}isObservable(t){return t instanceof O}isPromise(t){return t instanceof Promise}isString(t){return j(t)}isTemplateRef(t){return t instanceof k}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),De=(()=>{class e{constructor(t){this.valueTypeService=t}transform(t){return this.valueTypeService.isObservable(t)||this.valueTypeService.isPromise(t)}static{this.\u0275fac=function(r){return new(r||e)(a(N,16))}}static{this.\u0275pipe=u({name:"nbIsAsync",type:e,pure:!0})}}return e})();var Mt=(()=>{class e{constructor(){this.content=""}get asyncContent(){return this.content}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=L({type:e,selectors:[["","nb-r-str",""]],inputs:{content:[0,"nb-r-str","content"]},attrs:Ie,decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(r,o){r&1&&(d(0,0),D(1,"nbIsAsync"),_(2,Se,3,3,"ng-container",1)(3,Te,2,1,"ng-container",2),m()),r&2&&(y("ngSwitch",M(1,2,o.content)),l(2),y("ngSwitchCase",!0))},dependencies:[U,z,q,K,De],encapsulation:2,changeDetection:0})}}return e})(),Me=new h("default error image"),Re=new h("default loading image"),je="./assets/nb-common/loading.svg",we="./assets/nb-common/picture.svg",Rt=(()=>{class e{constructor(t,r,o,f){this.changeDR=t,this.defaultErrImg=r,this.defaultLoadingImg=o,this.elementRef=f,this.nbImg="",this.src="",this.loadingImg=this.defaultLoadingImg||je,this.errImg=this.defaultErrImg||we}ngOnChanges(t){let{nbImg:r}=t;this.changeNbImg(r)}changeNbImg(t){t?.firstChange&&(this.src=this.elementRef.nativeElement.src),t&&this.loadImage()}loadImage(){if(!this.nbImg){this.loadImgFromSrc();return}this.loadImgFromNbImg()}loadImgFromNbImg(){this.updateImgSrc(this.loadingImg);let t=new Image;t.onerror=()=>this.updateImgSrc(this.errImg),t.onload=()=>this.updateImgSrc(this.nbImg),t.src=this.nbImg}loadImgFromSrc(){this.elementRef.nativeElement.onerror=()=>{this.updateImgSrc(this.errImg),this.elementRef.nativeElement.onerror=null}}updateImgSrc(t){this.src=t,this.changeDR.markForCheck()}static{this.\u0275fac=function(r){return new(r||e)(a(R),a(Me,8),a(Re,8),a(A))}}static{this.\u0275dir=b({type:e,selectors:[["img","nbImg",""]],hostVars:1,hostBindings:function(r,o){r&2&&v("src",o.src,E)},inputs:{errImg:"errImg",loadingImg:"loadingImg",nbImg:"nbImg"},features:[g]})}}return e})(),Z=(()=>{class e{constructor(){this.destroy$=new P,this.subscriptionList=[],this.subscriptionMap=new Map}addUnsubscribeOperator(t){return t.pipe(B(this.destroy$))}clearAllSubscriptions(){this.subscriptionList.forEach(t=>t.unsubscribe()),this.subscriptionList.length=0}clearAllSubscriptionsFromKeyRecord(){this.subscriptionMap.forEach((t,r)=>{t.unsubscribe(),this.subscriptionMap.delete(r)})}collectASubscription(t){this.subscriptionList.push(t)}collectASubscriptionByKey(t,r,o=!0){let f=this.subscriptionMap.get(t);return f&&o&&f.unsubscribe(),this.subscriptionMap.set(t,r),f}getDestructionSignal(){return this.destroy$.asObservable()}unsubscribeASubscriptionByKey(t){let r=this.subscriptionMap.get(t);return r?(r.unsubscribe(),this.subscriptionMap.delete(t)):!1}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.clearAllSubscriptions(),this.clearAllSubscriptionsFromKeyRecord()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=x({token:e,factory:e.\u0275fac})}}return e})(),jt=(()=>{class e{constructor(t,r,o){this.chageDR=t,this.unsubscribeService=r,this.valueTypeService=o,this.nbPlaceholder="",this.placeholder=""}ngOnChanges(){this.reRender()}reRender(){if(this.valueTypeService.isString(this.nbPlaceholder)){this.placeholder=this.nbPlaceholder,this.chageDR.markForCheck();return}let t=this.nbPlaceholder.subscribe(r=>this.updatePlaceholder(r));this.unsubscribeService.collectASubscriptionByKey("placeholder-content",t)}updatePlaceholder(t){this.placeholder=t,this.chageDR.markForCheck()}static{this.\u0275fac=function(r){return new(r||e)(a(R),a(Z),a(N))}}static{this.\u0275dir=b({type:e,selectors:[["","nbPlaceholder",""]],hostVars:1,hostBindings:function(r,o){r&2&&v("placeholder",o.placeholder)},inputs:{nbPlaceholder:"nbPlaceholder"},features:[G([Z]),g]})}}return e})();var wt=(()=>{class e{constructor(t){this.valueTypeService=t}transform(t){return this.valueTypeService.isTemplateRef(t)?t:null}static{this.\u0275fac=function(r){return new(r||e)(a(N,16))}}static{this.\u0275pipe=u({name:"nbTplContent",type:e,pure:!0})}}return e})(),Ct=(()=>{class e{transform(t,...r){if(t)return t(...r)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275pipe=u({name:"nbCallFn",type:e,pure:!0})}}return e})();var Nt=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=W({type:e})}static{this.\u0275inj=F({})}}return e})();export{Mt as a,Re as b,Rt as c,jt as d,wt as e,Ct as f,Nt as g};
